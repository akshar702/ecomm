{"ast":null,"code":"import { map } from 'rxjs/operators';\n// import Swiper core and required components\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y, Virtual, Zoom, Autoplay, Thumbs, Controller } from 'swiper';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/product.service\";\nimport * as i3 from \"../services/cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ng-zorro-antd/button\";\nimport * as i7 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i8 from \"ng-zorro-antd/core/wave\";\nimport * as i9 from \"ng-zorro-antd/icon\";\nimport * as i10 from \"ng-zorro-antd/input-number\";\nimport * as i11 from \"swiper/angular\";\nfunction ProductComponent_div_0_swiper_3_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 29);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.product.image, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductComponent_div_0_swiper_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper\", 27);\n    i0.ɵɵtemplate(1, ProductComponent_div_0_swiper_3_ng_template_1_Template, 1, 1, \"ng-template\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"zoom\", true)(\"slidesPerView\", 1)(\"spaceBetween\", 50)(\"pagination\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"zoom\", true);\n  }\n}\nfunction ProductComponent_div_0_swiper_4_1_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 29);\n  }\n  if (rf & 2) {\n    const image_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", image_r5, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductComponent_div_0_swiper_4_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductComponent_div_0_swiper_4_1_ng_template_0_Template, 1, 1, \"ng-template\", 28);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"zoom\", true);\n  }\n}\nfunction ProductComponent_div_0_swiper_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper\", 27);\n    i0.ɵɵtemplate(1, ProductComponent_div_0_swiper_4_1_Template, 1, 1, null, 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"zoom\", true)(\"slidesPerView\", 1)(\"spaceBetween\", 50)(\"pagination\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.showcaseImages);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    color: a0\n  };\n};\nfunction ProductComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\")(2, \"div\", 2);\n    i0.ɵɵtemplate(3, ProductComponent_div_0_swiper_3_Template, 2, 5, \"swiper\", 3);\n    i0.ɵɵtemplate(4, ProductComponent_div_0_swiper_4_Template, 2, 5, \"swiper\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"h2\", 5);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7);\n    i0.ɵɵelement(10, \"i\", 8)(11, \"i\", 8)(12, \"i\", 8)(13, \"i\", 8)(14, \"i\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 10);\n    i0.ɵɵtext(16, \"10 Review(s) | \");\n    i0.ɵɵelementStart(17, \"span\", 11);\n    i0.ɵɵtext(18, \"Add your review\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"div\", 12)(20, \"h2\", 13);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 14);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 15);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 16)(28, \"div\", 17)(29, \"span\");\n    i0.ɵɵtext(30, \"QTY:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"nz-input-number\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductComponent_div_0_Template_nz_input_number_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.quantity = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_0_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.addToCart());\n    });\n    i0.ɵɵtext(33, \" Add to cart \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 20)(35, \"span\");\n    i0.ɵɵtext(36, \"Category: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 21)(39, \"span\");\n    i0.ɵɵtext(40, \"Share: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"i\", 22)(42, \"i\", 23)(43, \"i\", 24)(44, \"i\", 25);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(45, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showcaseImages.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showcaseImages.length > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.product.title);\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(22, 13, ctx_r0.product.price, \"USD\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(16, _c0, ctx_r0.quantity > 0 ? \"inherit\" : \"red\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.quantity === 0 ? \"Out of stock\" : \"In stock\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.product.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.quantity)(\"nzMin\", ctx_r0.product.quantity > 0 ? 1 : 0)(\"nzMax\", ctx_r0.product.quantity > 0 ? ctx_r0.product.quantity : 0)(\"nzStep\", 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.quantity === 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.product.category, \" \");\n  }\n}\n// install Swiper components\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y, Virtual, Zoom, Autoplay, Thumbs, Controller]);\nlet ProductComponent = /*#__PURE__*/(() => {\n  class ProductComponent {\n    constructor(_route, _product, _cart) {\n      this._route = _route;\n      this._product = _product;\n      this._cart = _cart;\n      this.showcaseImages = [];\n      this.loading = false;\n    }\n    ngOnInit() {\n      this.loading = true;\n      this._route.paramMap.pipe(map(param => {\n        return param.params.id;\n      })).subscribe(productId => {\n        // returns string so convert it to number\n        this.id = parseInt(productId);\n        this._product.getSingleProduct(productId).subscribe(product => {\n          console.log(product);\n          this.product = product;\n          if (product.quantity === 0) this.quantity = 0;else this.quantity = 1;\n          if (product.images) {\n            this.showcaseImages = product.images.split(';');\n          }\n          this.loading = false;\n        });\n      });\n    }\n    addToCart() {\n      this._cart.addProduct({\n        id: this.id,\n        price: this.product.price,\n        quantity: this.quantity,\n        image: this.product.image,\n        title: this.product.title,\n        maxQuantity: this.product.quantity\n      });\n    }\n    static {\n      this.ɵfac = function ProductComponent_Factory(t) {\n        return new (t || ProductComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.CartService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductComponent,\n        selectors: [[\"app-product\"]],\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"product-container\", 4, \"ngIf\"], [1, \"product-container\"], [1, \"product-container__image\"], [3, \"zoom\", \"slidesPerView\", \"spaceBetween\", \"pagination\", 4, \"ngIf\"], [1, \"product-container__details\"], [1, \"title\"], [1, \"reviews\"], [1, \"rating\"], [\"nz-icon\", \"\", \"nzType\", \"star\", \"nzTheme\", \"fill\"], [\"nz-icon\", \"\", \"nzType\", \"star\"], [1, \"review-link\"], [2, \"cursor\", \"pointer\"], [1, \"price-container\"], [1, \"price\"], [1, \"availability\", 3, \"ngStyle\"], [1, \"description\"], [1, \"cta\"], [1, \"add-to-cart\"], [3, \"ngModel\", \"nzMin\", \"nzMax\", \"nzStep\", \"ngModelChange\"], [\"nz-button\", \"\", \"nzType\", \"primary\", 3, \"disabled\", \"click\"], [1, \"category\"], [1, \"social-links\"], [\"nz-icon\", \"\", \"nzType\", \"facebook\", \"nzTheme\", \"outline\"], [\"nz-icon\", \"\", \"nzType\", \"twitter\", \"nzTheme\", \"outline\"], [\"nz-icon\", \"\", \"nzType\", \"google-plus\", \"nzTheme\", \"outline\"], [\"nz-icon\", \"\", \"nzType\", \"mail\", \"nzTheme\", \"outline\"], [1, \"additional\"], [3, \"zoom\", \"slidesPerView\", \"spaceBetween\", \"pagination\"], [\"swiperSlide\", \"\", 3, \"zoom\"], [\"alt\", \"`Product image`\", 3, \"src\"], [4, \"ngFor\", \"ngForOf\"]],\n        template: function ProductComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ProductComponent_div_0_Template, 46, 18, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i4.NgStyle, i5.NgControlStatus, i5.NgModel, i6.NzButtonComponent, i7.ɵNzTransitionPatchDirective, i8.NzWaveDirective, i9.NzIconDirective, i10.NzInputNumberComponent, i11.SwiperComponent, i11.SwiperSlideDirective, i4.CurrencyPipe],\n        styles: [\".product-container[_ngcontent-%COMP%]{padding-bottom:60px}.product-container__image[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.product-container__details[_ngcontent-%COMP%]{margin:0 auto;max-width:1024px;padding:16px}.product-container__details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.25;margin-bottom:6px}.product-container__details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:4px}.product-container__details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{margin-right:12px}.product-container__details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:2px;font-size:1rem;color:#aaa;cursor:pointer}.product-container__details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]:nth-child(n+1):nth-child(-n+4){color:#f9d71c}.product-container__details[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]   .review-link[_ngcontent-%COMP%]{color:#525252;font-size:.75rem}.product-container__details[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.product-container__details[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.75rem;margin-right:12px}.product-container__details[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]{font-size:1rem;text-transform:uppercase}.product-container__details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:20px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:40px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:4px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:46px;margin-left:12px;border-radius:50px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{text-transform:uppercase;margin-bottom:16px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:6px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{text-transform:uppercase}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:6px}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1rem;margin:0 8px;cursor:pointer;transition:color .2s}.product-container__details[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]:hover{color:#1890ff}\"]\n      });\n    }\n  }\n  return ProductComponent;\n})();\nexport { ProductComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}